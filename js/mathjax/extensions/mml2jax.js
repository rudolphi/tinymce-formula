MathJax.Extension.mml2jax={version:"2.7.9",config:{preview:"mathml"},MMLnamespace:"http://www.w3.org/1998/Math/MathML",PreProcess:function(e){this.configured||(this.config=MathJax.Hub.CombineConfig("mml2jax",this.config),this.config.Augment&&MathJax.Hub.Insert(this,this.config.Augment),this.InitBrowser(),this.configured=!0),"string"==typeof e&&(e=document.getElementById(e)),e||(e=document.body);var t=[];this.PushMathElements(t,e,"math"),this.PushMathElements(t,e,"math",this.MMLnamespace);var a,s;if(void 0!==document.namespaces)try{for(a=0,s=document.namespaces.length;a<s;a++){var i=document.namespaces[a];i.urn===this.MMLnamespace&&this.PushMathElements(t,e,i.name+":math")}}catch(e){}else{var n=document.getElementsByTagName("html")[0];if(n)for(a=0,s=n.attributes.length;a<s;a++){var r=n.attributes[a];"xmlns:"===r.nodeName.substr(0,6)&&r.nodeValue===this.MMLnamespace&&this.PushMathElements(t,e,r.nodeName.substr(6)+":math")}}this.ProcessMathArray(t)},PushMathElements:function(e,t,a,s){var i,n=MathJax.Hub.config.preRemoveClass;if(s){if(!t.getElementsByTagNameNS)return;i=t.getElementsByTagNameNS(s,a)}else i=t.getElementsByTagName(a);for(var r=0,o=i.length;r<o;r++){var h=i[r].parentNode;h&&h.className!==n&&!h.isMathJax&&!i[r].prefix==!s&&e.push(i[r])}},ProcessMathArray:function(e){var t,a=e.length;if(a)if(this.MathTagBug)for(t=0;t<a;t++)"MATH"===e[t].nodeName?this.ProcessMathFlattened(e[t]):this.ProcessMath(e[t]);else for(t=0;t<a;t++)this.ProcessMath(e[t])},ProcessMath:function(e){var t=e.parentNode;if(t&&t.className!==MathJax.Hub.config.preRemoveClass){var a=document.createElement("script");if(a.type="math/mml",t.insertBefore(a,e),this.AttributeBug){var s=this.OuterHTML(e);this.CleanupHTML&&(s=s.replace(/<\?import .*?>/i,"").replace(/<\?xml:namespace .*?\/>/i,""),s=s.replace(/&nbsp;/g,"&#xA0;")),MathJax.HTML.setScript(a,s),t.removeChild(e)}else{var i=MathJax.HTML.Element("span");i.appendChild(e),MathJax.HTML.setScript(a,i.innerHTML)}"none"!==this.config.preview&&this.createPreview(e,a)}},ProcessMathFlattened:function(e){var t=e.parentNode;if(t&&t.className!==MathJax.Hub.config.preRemoveClass){var a=document.createElement("script");a.type="math/mml",t.insertBefore(a,e);for(var s,i="",n=e;e&&"/MATH"!==e.nodeName;)s=e,e=e.nextSibling,i+=this.NodeHTML(s),s.parentNode.removeChild(s);e&&"/MATH"===e.nodeName&&e.parentNode.removeChild(e),a.text=i+"</math>","none"!==this.config.preview&&this.createPreview(n,a)}},NodeHTML:function(e){var t,a,s;if("#text"===e.nodeName)t=this.quoteHTML(e.nodeValue);else if("#comment"===e.nodeName)t="\x3c!--"+e.nodeValue+"--\x3e";else{for(t="<"+e.nodeName.toLowerCase(),a=0,s=e.attributes.length;a<s;a++){var i=e.attributes[a];if(i.specified&&"_moz-math-"!==i.nodeName.substr(0,10)){t+=" "+i.nodeName.toLowerCase().replace(/xmlns:xmlns/,"xmlns")+"=";var n=i.nodeValue;null==n&&"style"===i.nodeName&&e.style&&(n=e.style.cssText),t+='"'+this.quoteHTML(n)+'"'}}if(t+=">",null!=e.outerHTML&&e.outerHTML.match(/(.<\/[A-Z]+>|\/>)$/)){for(a=0,s=e.childNodes.length;a<s;a++)t+=this.OuterHTML(e.childNodes[a]);t+="</"+e.nodeName.toLowerCase()+">"}}return t},OuterHTML:function(e){if("#"===e.nodeName.charAt(0))return this.NodeHTML(e);if(!this.AttributeBug)return e.outerHTML;for(var t=this.NodeHTML(e),a=0,s=e.childNodes.length;a<s;a++)t+=this.OuterHTML(e.childNodes[a]);return t+="</"+e.nodeName.toLowerCase()+">"},quoteHTML:function(e){return null==e&&(e=""),e.replace(/&/g,"&#x26;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")},createPreview:function(e,t){var a=this.config.preview;if("none"!==a){var s=!1,i=MathJax.Hub.config.preRemoveClass;if((t.previousSibling||{}).className!==i){if("mathml"===a&&(s=!0,a=this.MathTagBug?"alttext":e.cloneNode(!0)),"alttext"===a||"altimg"===a){s=!0;var n=this.filterPreview(e.getAttribute("alttext"));if("alttext"===a)a=null!=n?MathJax.HTML.TextNode(n):null;else{var r=e.getAttribute("altimg");if(null!=r){var o={width:e.getAttribute("altimg-width"),height:e.getAttribute("altimg-height")};a=MathJax.HTML.Element("img",{src:r,alt:n,style:o})}else a=null}}if(a){var h;s?(h=MathJax.HTML.Element("span",{className:i}),h.appendChild(a)):h=MathJax.HTML.Element("span",{className:i},a),t.parentNode.insertBefore(h,t)}}}},filterPreview:function(e){return e},InitBrowser:function(){var e=MathJax.HTML.Element("span",{id:"<",className:"mathjax",innerHTML:"<math><mi>x</mi><mspace /></math>"}),t=e.outerHTML||"";this.AttributeBug=""!==t&&!(t.match(/id="&lt;"/)&&t.match(/class="mathjax"/)&&t.match(/<\/math>/)),this.MathTagBug=e.childNodes.length>1,this.CleanupHTML=MathJax.Hub.Browser.isMSIE}},MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.mml2jax],5),MathJax.Ajax.loadComplete("[MathJax]/extensions/mml2jax.js");